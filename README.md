[![voltNik YouTube](http://voltnik.ru/voltnik-banner.jpg)](https://www.youtube.com/channel/UC4s13gPVOMQVX3P1ZpdUwjA?sub_confirmation=1)
# Мощный RGB фонарь на Arduino
* [Описание проекта](#chapter-0)
* [Папки проекта](#chapter-1)
* [Схема подключения](#chapter-2)
* [Материалы и компоненты](#chapter-3)
* [Как скачать и прошить](#chapter-4)
* [FAQ](#chapter-5)
* [Полезная информация](#chapter-6)

<a id="chapter-0"></a>
## Описание проекта
Фонарь управляется платформой Arduino Nano. Это позволяет создать большое количество режимов работы RBG светодиода. Начиная от различных вспышех и заканчивая красивыми переливаниями. 
В моей версии прошивки реализовано 5 режимов работы: ручной, мигалка, стробоскоп-маяк, радуга и случайный цвет.

Для сборки используется следующий набор комлпектующих:
- контроллер Arduino Nano
- экран 1602 с модулем I2C
- RGB светодиод на 50 ватт
- линза для светодиода
- повышающий преобразователь 150 ватт (берите пару, выгорают)
- 3шт токоограничивающие модуль
- 3шт полевые транзисторы 3шт
- выключатель с фиксацией
- термовыключатель для вентилятора
- 4шт кнопки
- потенциометр 10 кОм
- 3шт резисторы 100 оМ
- 3шт резисторы 10 кОм
- аккумулятор 12-24 вольта емкостью от 1000мач

еще понадобится: Канализационный патрубок удлиннитель на 110мм, две заглушки для него. Компьютерный куллер от 478 сокета (или любой другой который влезет в 110мм трубу).

Подробности сборки в ВИДЕО на канале voltNik: https://youtu.be/MRYwmXUniJM

<a id="chapter-1"></a>
## Папки
- **libraries** - библиотеки для работы с проектом
- **RBGflashlight** - прошивка для Arduino
- **shablon** - шаблоны в .pdf формате для разметки заглушек 110мм

<a id="chapter-2"></a>
## Схема подключения
![СХЕМА2](https://github.com/voltNik/RGB-flashlight/blob/master/RGB-flashlight_full_bb2.jpg)

<a id="chapter-3"></a>
## Материалы и компоненты
- Контроллер Arduino Nano: http://ali.pub/28sn0v резерв: http://ali.pub/2351o1
- Экран LCD 1602 с модулем I2C: http://ali.pub/28sn2m резерв: http://ali.pub/241bmo
- RGB светодиод на 50 ватт: http://ali.pub/28smvt
- Линза для светодиода: http://ali.pub/28smyq
- Повышающий преобразователь 150 ватт: http://ali.pub/28smv8
- Другой на 200 ватт: http://ali.pub/28smrc
- Токоограничивающий модуль надо 3шт: http://ali.pub/28smhf
- 10шт полевые транзисторы IRF3205: http://ali.pub/28sn6b
- Термо клей: http://ali.pub/28sol2
- Термоскотч: http://ali.pub/28smps
- Термовыключатель: http://ali.pub/28sowj 
- Микро стабилизатор для питания Ардуино UBEC: http://ali.pub/28sv4x
- Выключатель с фиксацией: http://ali.pub/28sn7v
- Кнопки 25шт: http://ali.pub/28sn4y резерв: http://ali.pub/235230
- Потенциометр 10кОм 5шт: http://ali.pub/28smiz
- Колпачки для потенциометра: http://ali.pub/28smlp
- Набор резисторов 600шт: http://ali.pub/28smng 
- Вольтметр до 40В: http://ali.pub/28smi0
- Микро стабилизатор для питания Ардуино UBEC: http://ali.pub/28sv4x
- Аккумулятор 4S 16 вольта емкостью 1800мач: https://goo.gl/JGbB8D
- Зарядка для аккумулятора IMAX B6: http://ali.pub/28su2t

<a id="chapter-4"></a>
## Как скачать и прошить
* Скачать архив с проектом
> На этой странице сверху справа зелёная кнопка **Clone or download**, жми её, там будет **Download ZIP**
* Установить библиотеки в:  
`C:\Program Files (x86)\Arduino\libraries\` (Windows x64)  
`C:\Program Files\Arduino\libraries\` (Windows x86) 
* Подключить Ардуино к компьютеру
* Запустить файл прошивки .ino
* Настроить COM порт и модель Arduino
* Настроить что нужно по проекту в файле прошивке
* Нажать загрузить

## Настройки в коде
     Особого смысла менять код не вижу. Но он хорошо откомментирован. 
     Возможно вам понадобится изменить адрес экрана выбрав 0x27, либо 0x3f. 
     Переназначить пины подключения кнопок:
     - R_BTN 10 
     - G_BTN 9
     - B_BTN 8
     - MODE_BTN 11   // кнопка смены режима работы
     - POT_BTN 7   // потенциометр А7! (не 7, а именно А7!)
     - MODE_CNT 5              // количество режимов работы

<a id="chapter-5"></a>
## FAQ
### Основные вопросы
В: Как скачать с этого сайта?  
О: Вверху вверху справа зелёная кнопка **Clone or download**, её жми, там будет **Download ZIP**  

В: Скачался какой то файл .zip, куда его теперь?  
О: Это архив. Надо распаковать.  

В: Компьютер никак не реагирует на подключение Ардуины!  
О: Возможно у тебя зарядный USB кабель, а нужен именно data-кабель, по которому можно данные передавать  

В: Можно сделать по другому?  
О: Можно.  

В: Сколько стоит?  
О: Фонарь не продается и на заказ не иготавливается. Его можно только сделать самому по инструкции и видеогайду.  

### Вопросы по этому проекту
В: Как добавить свои режимы?  
О: Увеличиваете MODE_CNT и дописываете в массив modes название ваших режимов. Далее в коде добавляете CASE с номером вашего режима описывая алгоритм работы.  

В: Какой термодатчик можно использовать для подключения к Ардуино?  
О: Проще всего подключить DS18B20.  

В: Можно использовать аккумуляторы 18650?  
О: Да, делаете из них сборку 3S или 4S и будет работать.  

В: Как сделать чтобы Ардуино включал вентилятор?  
О: Нужно добавить четвертый транзистор и дописать код под его работу.  

В: Как заряжать аккумулятор?  
О: Зарядка в фонаре не предусмотрена. По моему опыту для многобаночного лития оптимально использовать балансировочные устройства. Самым популярным и бюджетным является IMAX B6.  

<a id="chapter-6"></a>
## Полезная информация
* [Мой сайт VOLTNIK.RU](http://voltnik.ru/)
* [Мой YouTube канал VOLTNIK](https://www.youtube.com/channel/UC4s13gPVOMQVX3P1ZpdUwjA?sub_confirmation=1)